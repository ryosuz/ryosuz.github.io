---
const currentYear = new Date().getFullYear();
---

<footer class="py-8 border-t border-border relative">
  <div class="max-w-5xl mx-auto px-6">
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <p class="text-sm text-ink-muted">
        © {currentYear} Portfolio. All rights reserved.
      </p>
      <div class="flex items-center gap-6">
        <a
          href={import.meta.env.PUBLIC_GITHUB_URL}
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm text-ink-muted hover:text-ink transition-colors"
        >
          GitHub
        </a>
        <a
          href="https://twitter.com"
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm text-ink-muted hover:text-ink transition-colors"
        >
          X (Twitter)
        </a>
      </div>
    </div>
  </div>

  <!-- Back to Top Button -->
  <button
    id="back-to-top"
    aria-label="トップに戻る"
    class="fixed bottom-6 right-6 w-12 h-12 bg-ink text-cosmic-latte rounded-full shadow-lg
           flex items-center justify-center opacity-0 invisible translate-y-4
           hover:bg-ink-light hover:scale-110 hover:shadow-xl
           transition-all duration-300 ease-out z-50 group"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2.5"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="transform group-hover:-translate-y-0.5 transition-transform duration-200"
    >
      <path d="M18 15l-6-6-6 6"></path>
    </svg>
  </button>
</footer>

<script>
  const backToTopButton = document.getElementById("back-to-top");

  const toggleButtonVisibility = () => {
    if (window.scrollY > 300) {
      backToTopButton?.classList.remove(
        "opacity-0",
        "invisible",
        "translate-y-4",
      );
      backToTopButton?.classList.add("opacity-100", "visible", "translate-y-0");
    } else {
      backToTopButton?.classList.add("opacity-0", "invisible", "translate-y-4");
      backToTopButton?.classList.remove(
        "opacity-100",
        "visible",
        "translate-y-0",
      );
    }
  };

  window.addEventListener("scroll", toggleButtonVisibility);

  backToTopButton?.addEventListener("click", () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  });
</script>
