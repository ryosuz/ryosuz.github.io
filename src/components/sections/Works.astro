---
import { ProjectCard } from "../project-card";
import { projects } from "@/data/projects";
import SectionHeader from "../SectionHeader.astro";

// Featured projects first, then others
const sortedProjects = [...projects].sort((a, b) => {
  if (a.featured && !b.featured) return -1;
  if (!a.featured && b.featured) return 1;
  return 0;
});
---

<section id="works" class="bg-cosmic-latte-dark py-24 scroll-mt-24 md:scroll-mt-15">
  <div class="max-w-5xl mx-auto px-6">
    <SectionHeader
      title="Works"
      description="実務での経験や個人開発で作成した代表的なプロジェクトをご紹介します"
    />
    <div class="grid md:grid-cols-2 gap-8">
      {
        sortedProjects.map((project) => (
          <ProjectCard
            client:visible
            project={project}
          />
        ))
      }
    </div>
  </div>
</section>
